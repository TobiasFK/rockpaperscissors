<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /* 
        Rock Paper Scissors:
        
        first we need to get the player's choice by asking for input
        It needs to be case-insensitive

        then we need to create a way to get the computer's choice
        it needs to return either rock, paper or scissors randomly

        


        then we need to create a round of Rock Paper scissor
        it should take the player's choice and the computer's choice
            IF player's choice is scissors AND computer's choice is paper, then player wins.
            IF player's choice is rock AND computer's choice is scissors, then player wins
            IF player's choice is paper AND computer's choice is rock, then player wins
            ELSE computer wins

        For all of the results, it needs to return a message that tells the player whether he won or lost and why, e.g. "You lose! Paper beats rock"

        To play a full game (5 rounds) of rock paper scissor, we should then create a way to repeat the round of rock paper scissor 5 times and then stop

        then we need to print out the results of that to the player

        */

        function getComputerChoice() { // get the computer's choice of either Rock, Paper or Scissor, randomly
            const CHOICES = ["rock", "paper", "scissors"];
            let randomNumber = Math.floor(Math.random() * 3);
            return CHOICES[randomNumber];     
        }
        
        function getPlayerChoice() { // get the player's choice
            let choice = prompt("Pick Rock (R), Paper (P), Scissors (S"); // asking the user for simple input (one letter) instead of a long word
            choice = choice.toLowerCase();
            if (choice == "r" || choice == "p" || choice == "s") { // check whether a correct choice has been selected ('r', 'p' or 's')
                switch (choice) { // converting one-letter inputs to appropiate selection
                    case "r":
                        choice = "rock"
                        break
                    case "p":
                        choice = "paper"
                        break
                    case "s":
                        choice = "scissors"
                        break
                }
                return choice
            }
            else {
                alert("Oops, that's not Rock (R), Paper (P) or Scissors (S). Pick again"); // if wrong choice has been selected, ask for prompt again
                getPlayerChoice();
            }
        }


        function playRound() {
            let playerSelection = getPlayerChoice()
            let computerSelection = getComputerChoice();
            let roundWinMessage = ""
            // checks if the round is tie
            if (playerSelection === computerSelection) {
                console.log("It's a tie! Try again!");
                playRound();
            }
            // checks if the player wins the round
            else if (
                playerSelection === "rock" && computerSelection === "scissors"
                || playerSelection === "paper" && computerSelection === "rock"
                || playerSelection === "scissors" && computerSelection === "paper") {
                    roundWinMessage = "You: " + playerSelection.toUpperCase() + " | Computer: " + computerSelection.toUpperCase() + " >> You WIN this round!"
                    console.log(roundWinMessage);
                    return true
            }
            // checks if the computer wins the round
            else if (
                playerSelection === "rock" && computerSelection === "paper"
                || playerSelection === "paper" && computerSelection === "scissors"
                || playerSelection === "scissors" && computerSelection === "rock") {
                    roundWinMessage = "You: " + playerSelection.toUpperCase() + " | Computer: " + computerSelection.toUpperCase() + " >> You LOSE this round!";
                    console.log(roundWinMessage);
            }
            // if something else went wrong, restart round
            else {
                console.log("Something went wrong... Try again");
                playRound();
            }
        }


        function game() {
            let playerWins = 0; // counts the number of player wins
            let computerWins = 0; // counts the number of computer wins
            for (let i = 1; i <= 5; i++) {
                let winner = playRound(); // stores the result of playround function in variable winner. If variable is true, player wins, if anything else, computer wins
                if (winner === true) {
                    playerWins += 1;
                }
                else {
                    computerWins += 1;
                }               
                let scoreMessage = "Round: " + i + " | Player: " + playerWins + "-" + computerWins + " Computer";
                console.log(scoreMessage);
            }
            if (playerWins >= 3) { // checks whether player has three wins total after five rounds
                console.log("Player wins!");
            }
            else {
                console.log("Computer wins!");
            }
        }

        game();



        
        

        
        











    </script>
    
</body>
</html>