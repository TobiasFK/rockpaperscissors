<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor - Tobias Kjaer</title>
</head>

<body>
    <script>
        // Rock paper scissors game //

        //get User input
        function getUserChoice() {
            let userInput = prompt(`Please pick either rock (R), paper (P) or scissors (S): `);
            userInput = userInput.toLowerCase();
            const correctInput = ["r", "p", "s"];
            let inputVerify = correctInput.includes(userInput);
            while (!inputVerify) {
                userInput = prompt(`Wrong entry. Please pick either rock (R), paper (P) or scissors (S):`);
                userInput = userInput.toLowerCase();
                inputVerify = correctInput.includes(userInput);
            }
            return convertToRealWords(userInput);
        }

        // get the computer's choice of either Rock, Paper or Scissor, randomly
        function getComputerChoice() {
            const choices = ["rock", "paper", "scissors"];
            let randomNumber = Math.floor(Math.random() * 3);
            return choices[randomNumber];
        }

        //convert to words rock, paper, scissors for code readability
        function convertToRealWords(userInput) {
            switch (userInput) {
                case "r":
                    userInput = "rock";
                    break;
                case "p":
                    userInput = "paper";
                    break;
                case "s":
                    userInput = "scissors";
                    break;
            }
            return userInput;
        }

        // play one round
        function playRound() {
            let userChoice = getUserChoice();
            let computerChoice = getComputerChoice();
            if (userChoice === computerChoice) {
                console.log(`Player: ${userChoice.toUpperCase(userChoice)} | Computer: ${computerChoice.toUpperCase(computerChoice)} >> It's a tie!`);
                return "tie";
            }
            else if (
                (userChoice === "scissor" && computerChoice === "paper")
                || (userChoice === "paper" && computerChoice === "rock")
                || (userChoice === "rock" && computerChoice === "scissors")
            ) {
                console.log(`Player: ${userChoice.toUpperCase(userChoice)} | Computer: ${computerChoice.toUpperCase(computerChoice)} >> You WIN this round!`)
                return "user_win";
            }
            else {
                console.log(`Player: ${userChoice.toUpperCase(userChoice)} | Computer: ${computerChoice.toUpperCase(computerChoice)} >> You LOSE this round!`);
                return "computer_win";
            }
        }

        // play game
        function playGame() {
            let userWins = 0;
            let computerWins = 0;
            let round = 1;
            console.log("--------------------------------")
            console.log("Let's play Rock, Paper, Scissors!");
            while (true) {
                console.log("--------------------------------");
                console.log(`Round ${round}:`);
                let roundWinner = playRound();
                switch (roundWinner) {
                    case "tie":
                        break;
                    case "user_win":
                        userWins++;
                        break;
                    case "computer_win":
                        computerWins++;
                        break;
                }
                console.log(`Player ${userWins} | ${computerWins} Computer`);
                if (userWins === 3) {
                    console.log(`>>>>>>YOU WIN!!<<<<<<< (after ${(round)} rounds..)`);
                    return;
                }
                else if (computerWins === 3) {
                    console.log(`>>>>>>YOU LOOSE!!<<<<<<< (after ${(round)} rounds..)`);
                    return;
                }
                else {
                    round++;
                }
            }
        }

    </script>

</body>

</html>